import{g as e}from"./gsap-DdPmJgzX.js";import{_ as t}from"./index-BAMW4z6d.js";import{r as a,o,a as s,b as l,c as r,d as n,e as u,f as i,g as c,t as p,h as d,w as v,n as y}from"./element-plus-D-BqyZJp.js";const m={class:"container"},L={class:"typewriter-container"},w={class:"card-content"},f={key:0,class:"start-button-container"},g=t({__name:"Typewriter",props:{texts:{type:Array,default:()=>["亲爱的，生日快乐！","今天是你的特别日子，","让我们一起回顾我们的美好时光..."]},speed:{type:Number,default:100}},emits:["typewriter-complete"],setup(t,{emit:g}){const h=t,C=g,b=a(""),x=a(0),k=a(0),T=a(null),_=a(!1),q=a("");let S=null,j=null,M=null,Z=null;const O=()=>{const e=h.texts[x.value];return k.value<=e.length?(b.value=q.value+e.substring(0,k.value),k.value++,void(T.value=setTimeout(O,h.speed))):x.value===h.texts.length-1?(_.value=!0,void y(()=>{A()})):(q.value+=e+"\n",x.value++,k.value=0,void(T.value=setTimeout(O,1e3)))},z=()=>{C("typewriter-complete")},A=()=>{const t=document.querySelector(".start-button");t&&(j=e.fromTo(t,{opacity:0,y:30},{opacity:1,y:0,duration:.6,delay:.3,ease:"power2.out"}))};return o(()=>{O(),(()=>{const t=document.querySelector(".card-content");t&&(S=e.fromTo(t,{opacity:0,y:30,scale:.95},{opacity:1,y:0,scale:1,duration:.8,ease:"power2.out"}))})(),(()=>{const t=document.querySelector(".cursor");t&&(M=e.to(t,{opacity:0,duration:.5,repeat:-1,yoyo:!0,ease:"power1.inOut"}))})(),(()=>{const t=document.querySelector(".capricorn-element");t&&(Z=e.to(t,{y:-20,rotation:5,duration:3,repeat:-1,yoyo:!0,ease:"sine.inOut"}))})()}),s(()=>{T.value&&clearTimeout(T.value),S&&S.kill(),j&&j.kill(),M&&M.kill(),Z&&Z.kill()}),(e,t)=>{const a=l("el-button");return n(),r("div",m,[u("div",L,[u("div",w,[u("h1",null,[c(p(b.value)+" ",1),t[0]||(t[0]=u("span",{class:"cursor"},"|",-1))]),_.value?(n(),r("div",f,[d(a,{type:"primary",size:"large",class:"start-button",onClick:z},{default:v(()=>[...t[1]||(t[1]=[c(" 开始回忆 ",-1)])]),_:1})])):i("",!0)])]),t[2]||(t[2]=u("div",{class:"capricorn-element"},[u("svg",{width:"100",height:"100",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[u("path",{d:"M50 10C27.9 10 10 27.9 10 50C10 72.1 27.9 90 50 90C72.1 90 90 72.1 90 50C90 27.9 72.1 10 50 10ZM50 85C31.3 85 15 68.7 15 50C15 31.3 31.3 15 50 15C68.7 15 85 31.3 85 50C85 68.7 68.7 85 50 85ZM40 30L50 45L60 30L55 40L65 40L55 50L65 60L55 60L60 70L50 55L40 70L35 60L25 60L35 50L25 40L35 40L40 30Z",fill:"rgba(255, 255, 255, 0.8)"})])],-1))])}}},[["__scopeId","data-v-edae2c25"]]);export{g as default};
