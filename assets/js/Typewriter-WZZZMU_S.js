import{g as e}from"./gsap-DdPmJgzX.js";import{_ as a}from"./index-aH9gmLfr.js";import{r as t,o,a as s,c as l,b as r,d as c,e as i,f as d,g as n,t as u,n as v}from"./element-plus-BgU5qC8t.js";const p={class:"container"},y={class:"typewriter-container"},m={class:"card-content"},f={key:0,class:"start-button-container"},g=a({__name:"Typewriter",props:{texts:{type:Array,default:()=>["亲爱的，生日快乐！","今天是你的特别日子，","让我们一起回顾我们的美好时光..."]},speed:{type:Number,default:100}},emits:["typewriter-complete"],setup(a,{emit:g}){const w=a,L=g,b=t(""),C=t(0),T=t(0),h=t(null),x=t(!1),k=t("");let q=null,S=null,_=null;const A=()=>{const e=w.texts[C.value];return T.value<=e.length?(b.value=k.value+e.substring(0,T.value),T.value++,void(h.value=setTimeout(A,w.speed))):C.value===w.texts.length-1?(x.value=!0,void v(()=>{M()})):(k.value+=e+"\n",C.value++,T.value=0,void(h.value=setTimeout(A,1e3)))},j=()=>{L("typewriter-complete")},M=()=>{const a=document.querySelector(".start-button");a&&(S=e.fromTo(a,{opacity:0,y:30},{opacity:1,y:0,duration:.6,delay:.3,ease:"power2.out"}))};return o(()=>{A(),(()=>{const a=document.querySelector(".card-content");a&&(q=e.fromTo(a,{opacity:0,y:30,scale:.95},{opacity:1,y:0,scale:1,duration:.8,ease:"power2.out"}))})(),(()=>{const a=document.querySelectorAll(".decoration-star"),t=document.querySelectorAll(".decoration-circle"),o=document.querySelectorAll(".decoration-glow");e.fromTo(a,{opacity:0,scale:0},{opacity:1,scale:1,duration:.6,stagger:.1,ease:"back.out(1.7)",delay:.3}),e.fromTo(t,{opacity:0,scale:.8},{opacity:1,scale:1,duration:.8,stagger:.2,ease:"power2.out",delay:.5}),e.fromTo(o,{opacity:0,scale:.5},{opacity:1,scale:1,duration:1,stagger:.3,ease:"power2.out",delay:.7})})(),(()=>{const a=document.querySelector(".capricorn-element");a&&(_=e.to(a,{y:-20,rotation:5,duration:3,repeat:-1,yoyo:!0,ease:"sine.inOut"}))})()}),s(()=>{h.value&&clearTimeout(h.value),q&&q.kill(),S&&S.kill(),_&&_.kill()}),(e,a)=>(r(),l("div",p,[a[2]||(a[2]=c('<div class="background-decorations" data-v-8e0df322><div class="decoration-star star-1" data-v-8e0df322></div><div class="decoration-star star-2" data-v-8e0df322></div><div class="decoration-star star-3" data-v-8e0df322></div><div class="decoration-star star-4" data-v-8e0df322></div><div class="decoration-star star-5" data-v-8e0df322></div><div class="decoration-circle circle-1" data-v-8e0df322></div><div class="decoration-circle circle-2" data-v-8e0df322></div><div class="decoration-glow glow-1" data-v-8e0df322></div><div class="decoration-glow glow-2" data-v-8e0df322></div></div>',1)),i("div",y,[i("div",m,[i("h1",null,[n(u(b.value)+" ",1),a[0]||(a[0]=i("span",{class:"cursor"},"|",-1))]),x.value?(r(),l("div",f,[i("button",{class:"start-button",onClick:j},[...a[1]||(a[1]=[i("span",{class:"button-icon"},"✨",-1),i("span",{class:"button-text"},"开始回忆",-1),i("span",{class:"button-glow"},null,-1)])])])):d("",!0)])]),a[3]||(a[3]=i("div",{class:"capricorn-element"},[i("svg",{width:"100",height:"100",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[i("path",{d:"M50 10C27.9 10 10 27.9 10 50C10 72.1 27.9 90 50 90C72.1 90 90 72.1 90 50C90 27.9 72.1 10 50 10ZM50 85C31.3 85 15 68.7 15 50C15 31.3 31.3 15 50 15C68.7 15 85 31.3 85 50C85 68.7 68.7 85 50 85ZM40 30L50 45L60 30L55 40L65 40L55 50L65 60L55 60L60 70L50 55L40 70L35 60L25 60L35 50L25 40L35 40L40 30Z",fill:"rgba(255, 255, 255, 0.8)"})])],-1))]))}},[["__scopeId","data-v-8e0df322"]]);export{g as default};
