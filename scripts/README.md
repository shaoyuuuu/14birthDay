# 自动化配置生成脚本

## 功能说明

这个脚本可以自动扫描 `public/memory` 文件夹中的所有记忆文件夹，并自动生成以下配置文件：

1. **themeConfigs.js** - 自动为每个记忆文件夹生成主题配置
2. **memoryImages.json** - 自动收集每个文件夹中的所有图片文件
3. **apiService.js** - 自动更新 MEMORY_FOLDERS 数组

## 使用方法

### 添加新的记忆文件夹

1. 在 `public/memory` 目录下创建新的文件夹（文件夹名使用中文）
2. 在新文件夹中添加 `memory.json` 配置文件
3. 将图片文件放入该文件夹
4. 运行以下命令自动生成配置：

```bash
npm run generate-configs
```

### memory.json 格式

每个记忆文件夹都需要包含一个 `memory.json` 文件，格式如下：

```json
{
  "date": "2023-03-20",
  "title": "生活中的小确幸",
  "description": "那些零散却温暖的日常瞬间，构成了我们最珍贵的回忆。",
  "memory": "一起在公园散步喂猫，一起看电影到深夜，一起分享一杯奶茶...这些看似平凡的小事，却是我最珍惜的时光。",
  "images": [],
  "comment": "最珍贵。"
}
```

### 脚本功能

- **自动扫描**: 扫描 `public/memory` 目录下的所有子文件夹
- **智能配色**: 自动为每个文件夹分配不同的主题颜色
- **图片收集**: 自动收集每个文件夹中的所有图片文件（支持 .jpg, .jpeg, .png, .gif, .webp）
- **配置更新**: 自动更新所有相关配置文件
- **错误处理**: 如果某个文件夹缺少 `memory.json`，会显示警告但继续处理其他文件夹

### 主题配色方案

脚本会自动循环使用以下配色方案：

1. 绿色系 (#81c784)
2. 浅绿色 (#aed581)
3. 柔和绿 (#c5e1a5)
4. 淡绿色 (#dcedc8)
5. 极淡绿 (#e8f5e8)

每个文件夹还会自动分配不同的装饰图案（dots、waves、leaves）

## 注意事项

- 文件夹名必须使用中文
- 每个文件夹必须包含 `memory.json` 文件
- 图片文件名建议使用有意义的名称
- 运行脚本前请确保没有未保存的代码更改

## 示例

假设你添加了一个新的记忆文件夹 "成都美食"，步骤如下：

1. 创建文件夹：`public/memory/成都美食/`
2. 创建配置文件：`public/memory/成都美食/memory.json`
3. 添加图片：`public/memory/成都美食/火锅.jpg`
4. 运行命令：`npm run generate-configs`

脚本会自动：
- 为"成都美食"生成主题配置
- 收集所有图片文件
- 更新所有相关配置文件

无需手动修改任何代码！
